


### Start the Server
```
uvicorn content_writer_server:app
```


curl -X POST "https://deepagents.aiagenta2z.com/deep_research/chat" \
  -H "Content-Type: application/json" \
  -d '{"messages":[{"role":"user","content":"Calculate 1+1 result"}]}'


### Case 1:

curl -X POST "http://localhost:8000/chat" \
  -H "Content-Type: application/json" \
  -d '{"messages":[{"role":"user","content":"Calculate 1+1 result"}]}'

Result

```
{"type": "assistant", "format": "text", "content": "Task Started and Research Take a Few Minutes", "section": "answer", "message_id": "b25c451a-ee17-4b11-9e7a-f3102de4b751", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Calculate 1+1 result", "section": "answer", "message_id": "069d5f7e-5916-4c41-90af-1b56c1c5c9bb", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Calculate 1+1 result", "section": "answer", "message_id": "069d5f7e-5916-4c41-90af-1b56c1c5c9bb", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Calculate 1+1 result", "section": "answer", "message_id": "069d5f7e-5916-4c41-90af-1b56c1c5c9bb", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Calculate 1+1 result", "section": "answer", "message_id": "069d5f7e-5916-4c41-90af-1b56c1c5c9bb", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Calculate 1+1 result", "section": "answer", "message_id": "069d5f7e-5916-4c41-90af-1b56c1c5c9bb", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "The result of 1 + 1 is 2.", "section": "answer", "message_id": "lc_run--019c5616-f704-77c2-b856-77aeb708e505-0", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
```


###  Case 2: Write a blog post about how AI agents are transforming software development

Calling skills, generate blogs images (Nano Banana) and streaming back a blog content

curl -X POST "http://localhost:8000/chat" \
  -H "Content-Type: application/json" \
  -d '{"messages":[{"role":"user","content":"Write a blog post about how AI agents are transforming software development"}]}'


```
{"type": "assistant", "format": "text", "content": "Task Started and Research Take a Few Minutes", "section": "answer", "message_id": "72351ba1-1377-4e8f-a8ca-5b095b245034", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Write a blog post about how AI agents are transforming software development", "section": "answer", "message_id": "c8a88daf-ef6d-4301-9c1f-b8f6b84d7f60", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Write a blog post about how AI agents are transforming software development", "section": "answer", "message_id": "c8a88daf-ef6d-4301-9c1f-b8f6b84d7f60", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Write a blog post about how AI agents are transforming software development", "section": "answer", "message_id": "c8a88daf-ef6d-4301-9c1f-b8f6b84d7f60", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Write a blog post about how AI agents are transforming software development", "section": "answer", "message_id": "c8a88daf-ef6d-4301-9c1f-b8f6b84d7f60", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Write a blog post about how AI agents are transforming software development", "section": "answer", "message_id": "c8a88daf-ef6d-4301-9c1f-b8f6b84d7f60", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "", "section": "answer", "message_id": "lc_run--019c5617-b6b3-7f02-9171-88f734f5f57b-0", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Write a blog post about how AI agents are transforming software development", "section": "answer", "message_id": "c8a88daf-ef6d-4301-9c1f-b8f6b84d7f60", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "", "section": "answer", "message_id": "lc_run--019c5617-b6b3-7f02-9171-88f734f5f57b-0", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Updated todo list to [{'content': \"Load 'blog-post' skill\", 'status': 'in_progress'}, {'content': \"Research 'how AI agents are transforming software development' using researcher subagent\", 'status': 'pending'}, {'content': 'Create blog post outline', 'status': 'pending'}, {'content': 'Write blog post draft', 'status': 'pending'}, {'content': 'Generate cover image for blog post', 'status': 'pending'}, {'content': 'Finalize blog post', 'status': 'pending'}]", "section": "answer", "message_id": "a3252477-d91e-4e03-8e60-05a3b9e53e56", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "<skill name=\"blog-post\">\n# Blog Post Writing Skill\n\nThis skill provides a structured workflow for creating high-quality blog posts that educate and engage readers.\n\n## When to Use This Skill\n\nUse this skill when asked to:\n- Write a blog post or article\n- Create a tutorial or how-to guide\n- Develop educational long-form content\n- Write thought leadership pieces\n\n## Research First (Required)\n\n**Before writing any blog post, you MUST delegate research:**\n\n1. Use the `task` tool with `subagent_type: \"researcher\"`\n2. In the description, specify BOTH the topic AND where to save:\n\n```\ntask(\n    subagent_type=\"researcher\",\n    description=\"Research [TOPIC]. Save findings to research/[slug].md\"\n)\n```\n\nExample:\n```\ntask(\n    subagent_type=\"researcher\",\n    description=\"Research the current state of AI agents in 2025. Save findings to research/ai-agents-2025.md\"\n)\n```\n\n3. After research completes, read the findings file before writing\n\n## Output Structure (Required)\n\n**Every blog post MUST have both a post AND a cover image:**\n\n```\nblogs/\n\u2514\u2500\u2500 <slug>/\n    \u251c\u2500\u2500 post.md        # The blog post content\n    \u2514\u2500\u2500 hero.png       # REQUIRED: Generated cover image\n```\n\nExample: A post about \"AI Agents in 2025\" \u2192 `blogs/ai-agents-2025/`\n\n**You MUST complete both steps:**\n1. Write the post to `blogs/<slug>/post.md`\n2. Generate a cover image using `generate_image` and save to `blogs/<slug>/hero.png`\n\n**A blog post is NOT complete without its cover image.**\n\n## Blog Post Structure\n\nEvery blog post should follow this structure:\n\n### 1. Hook (Opening)\n- Start with a compelling question, statistic, or statement\n- Make the reader want to continue\n- Keep it to 2-3 sentences\n\n### 2. Context (The Problem)\n- Explain why this topic matters\n- Describe the problem or opportunity\n- Connect to the reader's experience\n\n### 3. Main Content (The Solution)\n- Break into 3-5 main sections with H2 headers\n- Each section covers one key point\n- Include code examples, diagrams, or screenshots where helpful\n- Use bullet points for lists\n\n### 4. Practical Application\n- Show how to apply the concepts\n- Include step-by-step instructions if applicable\n- Provide code snippets or templates\n\n### 5. Conclusion & CTA\n- Summarize key takeaways (3 bullets max)\n- End with a clear call-to-action\n- Link to related resources\n\n## Cover Image Generation\n\nAfter writing the post, generate a cover image using the `generate_cover` tool:\n\n```\ngenerate_cover(prompt=\"A detailed description of the image...\", slug=\"your-blog-slug\")\n```\n\nThe tool saves the image to `blogs/<slug>/hero.png`.\n\n### Writing Effective Image Prompts\n\nStructure your prompt with these elements:\n\n1. **Subject**: What is the main focus? Be specific and concrete.\n2. **Style**: Art direction (minimalist, isometric, flat design, 3D render, watercolor, etc.)\n3. **Composition**: How elements are arranged (centered, rule of thirds, symmetrical)\n4. **Color palette**: Specific colors or mood (warm earth tones, cool blues and purples, high contrast)\n5. **Lighting/Atmosphere**: Soft diffused light, dramatic shadows, golden hour, neon glow\n6. **Technical details**: Aspect ratio considerations, negative space for text overlay\n\n### Example Prompts\n\n**For a technical blog post:**\n```\nIsometric 3D illustration of interconnected glowing cubes representing AI agents, each cube has subtle circuit patterns. Cubes connected by luminous data streams. Deep navy background (#0a192f) with electric blue (#64ffda) and soft purple (#c792ea) accents. Clean minimal style, lots of negative space at top for title. Professional tech aesthetic.\n```\n\n**For a tutorial/how-to:**\n```\nClean flat illustration of hands typing on a keyboard with abstract code symbols floating upward, transforming into lightbulbs and gears. Warm gradient background from soft coral to light peach. Friendly, approachable style. Centered composition with space for text overlay.\n```\n\n**For thought leadership:**\n```\nAbstract visualization of a human silhouette profile merging with geometric neural network patterns. Split composition - organic watercolor texture on left transitioning to clean vector lines on right. Muted sage green and warm terracotta color scheme. Contemplative, forward-thinking mood.\n```\n\n## SEO Considerations\n\n- Include the main keyword in the title and first paragraph\n- Use the keyword naturally 3-5 times throughout\n- Keep the title under 60 characters\n- Write a meta description (150-160 characters)\n\n## Quality Checklist\n\nBefore finishing:\n- [ ] Post saved to `blogs/<slug>/post.md`\n- [ ] Hero image generated at `blogs/<slug>/hero.png`\n- [ ] Hook grabs attention in first 2 sentences\n- [ ] Each section has a clear purpose\n- [ ] Conclusion summarizes key points\n- [ ] CTA tells reader what to do next\n</skill>", "section": "answer", "message_id": "cb25f8ff-24cc-4538-9d69-97068cda5e86", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Write a blog post about how AI agents are transforming software development", "section": "answer", "message_id": "c8a88daf-ef6d-4301-9c1f-b8f6b84d7f60", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "", "section": "answer", "message_id": "lc_run--019c5617-b6b3-7f02-9171-88f734f5f57b-0", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "Updated todo list to [{'content': \"Load 'blog-post' skill\", 'status': 'in_progress'}, {'content': \"Research 'how AI agents are transforming software development' using researcher subagent\", 'status': 'pending'}, {'content': 'Create blog post outline', 'status': 'pending'}, {'content': 'Write blog post draft', 'status': 'pending'}, {'content': 'Generate cover image for blog post', 'status': 'pending'}, {'content': 'Finalize blog post', 'status': 'pending'}]", "section": "answer", "message_id": "a3252477-d91e-4e03-8e60-05a3b9e53e56", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "<skill name=\"blog-post\">\n# Blog Post Writing Skill\n\nThis skill provides a structured workflow for creating high-quality blog posts that educate and engage readers.\n\n## When to Use This Skill\n\nUse this skill when asked to:\n- Write a blog post or article\n- Create a tutorial or how-to guide\n- Develop educational long-form content\n- Write thought leadership pieces\n\n## Research First (Required)\n\n**Before writing any blog post, you MUST delegate research:**\n\n1. Use the `task` tool with `subagent_type: \"researcher\"`\n2. In the description, specify BOTH the topic AND where to save:\n\n```\ntask(\n    subagent_type=\"researcher\",\n    description=\"Research [TOPIC]. Save findings to research/[slug].md\"\n)\n```\n\nExample:\n```\ntask(\n    subagent_type=\"researcher\",\n    description=\"Research the current state of AI agents in 2025. Save findings to research/ai-agents-2025.md\"\n)\n```\n\n3. After research completes, read the findings file before writing\n\n## Output Structure (Required)\n\n**Every blog post MUST have both a post AND a cover image:**\n\n```\nblogs/\n\u2514\u2500\u2500 <slug>/\n    \u251c\u2500\u2500 post.md        # The blog post content\n    \u2514\u2500\u2500 hero.png       # REQUIRED: Generated cover image\n```\n\nExample: A post about \"AI Agents in 2025\" \u2192 `blogs/ai-agents-2025/`\n\n**You MUST complete both steps:**\n1. Write the post to `blogs/<slug>/post.md`\n2. Generate a cover image using `generate_image` and save to `blogs/<slug>/hero.png`\n\n**A blog post is NOT complete without its cover image.**\n\n## Blog Post Structure\n\nEvery blog post should follow this structure:\n\n### 1. Hook (Opening)\n- Start with a compelling question, statistic, or statement\n- Make the reader want to continue\n- Keep it to 2-3 sentences\n\n### 2. Context (The Problem)\n- Explain why this topic matters\n- Describe the problem or opportunity\n- Connect to the reader's experience\n\n### 3. Main Content (The Solution)\n- Break into 3-5 main sections with H2 headers\n- Each section covers one key point\n- Include code examples, diagrams, or screenshots where helpful\n- Use bullet points for lists\n\n### 4. Practical Application\n- Show how to apply the concepts\n- Include step-by-step instructions if applicable\n- Provide code snippets or templates\n\n### 5. Conclusion & CTA\n- Summarize key takeaways (3 bullets max)\n- End with a clear call-to-action\n- Link to related resources\n\n## Cover Image Generation\n\nAfter writing the post, generate a cover image using the `generate_cover` tool:\n\n```\ngenerate_cover(prompt=\"A detailed description of the image...\", slug=\"your-blog-slug\")\n```\n\nThe tool saves the image to `blogs/<slug>/hero.png`.\n\n### Writing Effective Image Prompts\n\nStructure your prompt with these elements:\n\n1. **Subject**: What is the main focus? Be specific and concrete.\n2. **Style**: Art direction (minimalist, isometric, flat design, 3D render, watercolor, etc.)\n3. **Composition**: How elements are arranged (centered, rule of thirds, symmetrical)\n4. **Color palette**: Specific colors or mood (warm earth tones, cool blues and purples, high contrast)\n5. **Lighting/Atmosphere**: Soft diffused light, dramatic shadows, golden hour, neon glow\n6. **Technical details**: Aspect ratio considerations, negative space for text overlay\n\n### Example Prompts\n\n**For a technical blog post:**\n```\nIsometric 3D illustration of interconnected glowing cubes representing AI agents, each cube has subtle circuit patterns. Cubes connected by luminous data streams. Deep navy background (#0a192f) with electric blue (#64ffda) and soft purple (#c792ea) accents. Clean minimal style, lots of negative space at top for title. Professional tech aesthetic.\n```\n\n**For a tutorial/how-to:**\n```\nClean flat illustration of hands typing on a keyboard with abstract code symbols floating upward, transforming into lightbulbs and gears. Warm gradient background from soft coral to light peach. Friendly, approachable style. Centered composition with space for text overlay.\n```\n\n**For thought leadership:**\n```\nAbstract visualization of a human silhouette profile merging with geometric neural network patterns. Split composition - organic watercolor texture on left transitioning to clean vector lines on right. Muted sage green and warm terracotta color scheme. Contemplative, forward-thinking mood.\n```\n\n## SEO Considerations\n\n- Include the main keyword in the title and first paragraph\n- Use the keyword naturally 3-5 times throughout\n- Keep the title under 60 characters\n- Write a meta description (150-160 characters)\n\n## Quality Checklist\n\nBefore finishing:\n- [ ] Post saved to `blogs/<slug>/post.md`\n- [ ] Hero image generated at `blogs/<slug>/hero.png`\n- [ ] Hook grabs attention in first 2 sentences\n- [ ] Each section has a clear purpose\n- [ ] Conclusion summarizes key points\n- [ ] CTA tells reader what to do next\n</skill>", "section": "answer", "message_id": "cb25f8ff-24cc-4538-9d69-97068cda5e86", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
{"type": "assistant", "format": "text", "content": "", "section": "answer", "message_id": "lc_run--019c5617-d321-7c31-a30a-04b9244a2a4d-0", "content_type": "text/markdown", "template": "streaming_content_type", "task_ids": "", "tab_message_ids": "", "tab_id": ""}
```
